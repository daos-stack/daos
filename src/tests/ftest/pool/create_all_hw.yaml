setup:
  start_agents_once: False
  start_servers_once: False

hosts:
  test_servers: 3

timeouts:
  test_one_pool_hw: 240
  test_two_pools_hw: 320
  test_recycle_pools_hw: 1500

test_one_pool_hw:
  deltas:
    scm: 18874368       # 18MiB
    nvme: 1048576       # 1MiB

test_recycle_pools_hw:
  pool_count: 50
  deltas:
    scm: 18874368       # 18MiB
    nvme: 0             # 0MiB

  test_two_pools_hw:
    scm: 18874368       # 18MiB
    nvme: 1048576       # 1MiB

test_two_pools_hw:
  deltas:
    pool_half:
      scm: 18874368     # 18MiB
      nvme: 1048576     # 1MiB
    pool_full:
      scm: 18874368     # 18MiB
      nvme: 1048576     # 1MiB
    distribution:
      # DAOS-12750 NOTE metadata such as DAOS RDB (1GiB) are not recorded on all engines.
      scm: 2147483648   # 2GiB
      nvme: 0

server_config:
  name: daos_server
  engines_per_host: 2
  control_log_mask: TRACE  # For debugging
  # Mux the number of targets per engine (1-4) with both engines using the same number of targets
  engines:
    0:
      target_mux: !mux
        1_target:
          targets: 1
        2_targets:
          targets: 2
        3_target:
          targets: 3
        5_targets:
          targets: 5
      pinned_numa_node: 0
      nr_xs_helpers: 1
      fabric_iface: ib0
      fabric_iface_port: 31317
      log_file: daos_server0.log
      storage: auto
    1:
      target_mux: !mux
        1_target:
          targets: 1
          !filter-only : /run/server_config/engines/0/target_mux/1_target # yamllint disable-line rule:colons
        2_targets:
          targets: 2
          !filter-only : /run/server_config/engines/0/target_mux/2_targets # yamllint disable-line rule:colons
        3_target:
          targets: 3
          !filter-only : /run/server_config/engines/0/target_mux/3_target # yamllint disable-line rule:colons
        5_targets:
          targets: 5
          !filter-only : /run/server_config/engines/0/target_mux/5_targets # yamllint disable-line rule:colons
      pinned_numa_node: 1
      nr_xs_helpers: 1
      fabric_iface: ib1
      fabric_iface_port: 31417
      log_file: daos_server1.log
      storage: auto
